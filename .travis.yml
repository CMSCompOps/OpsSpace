language: python
cache: pip
matrix:
  include:
    - python: 2.6
      env:
        - nodoc=true
        - testreq=26
    - python: 2.7
      env:
        - nodoc=true
    - dist: trusty
      sudo: required
      python: 2.7
install:
  # 2.6 will need a different requirements file for tests
  - pip install -r test/requirements${testrequirements}.txt
  - python setup.py install
script:
  - opsspace-test
  - if [ "$testrequrements" = "26" ];
        then pylint --rcfile <(sed 's/load-plugins=/#/g' test/pylint.cfg) cmstoolbox;
        else pylint --rcfile test/pylint.cfg cmstoolbox;
    fi
